{"version":3,"sources":["draw-grid.js"],"names":["drawGrid","display","cellSize","svg","xScale","yScale","appendLine","x1","x2","y1","y2","grid","append","attr","selectAll","remove","insert","xRange","range","yRange","xDomain","domain","yDomain","xMin","Math","round","xMax","x","yMin","yMax","y"],"mappings":";;;;;kBAOwBA,Q;AAPxB;;;;;;;AAOe,SAASA,QAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsC;AACnD,MAAIC,MAAMF,QAAQE,GAAlB;AACA,MAAIC,SAASH,QAAQG,MAArB;AACA,MAAIC,SAASJ,QAAQI,MAArB;;AAEA,MAAMC,aAAa,SAAbA,UAAa,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,EAAoB;AACrCC,SAAKC,MAAL,CAAY,MAAZ,EACGC,IADH,CACQ,OADR,EACiB,UADjB,EAEGA,IAFH,CAEQ,IAFR,EAEcN,EAFd,EAGGM,IAHH,CAGQ,IAHR,EAGcL,EAHd,EAIGK,IAJH,CAIQ,IAJR,EAIcJ,EAJd,EAKGI,IALH,CAKQ,IALR,EAKcH,EALd;AAMD,GAPD;;AASA;AACAP,MAAIW,SAAJ,CAAc,WAAd,EAA2BC,MAA3B;;AAEA;AACA,MAAIJ,OAAOR,IAAIa,MAAJ,CAAW,GAAX,EAAgB,cAAhB,CAAX;;AAEA,MAAIC,SAASb,OAAOc,KAAP,EAAb;AACA,MAAIC,SAASd,OAAOa,KAAP,EAAb;AACA,MAAIE,UAAUhB,OAAOiB,MAAP,EAAd;AACA,MAAIC,UAAUjB,OAAOgB,MAAP,EAAd;;AAEA,MAAIE,OAAOC,KAAKC,KAAL,CAAWL,QAAQ,CAAR,IAAalB,QAAxB,IAAoCA,QAA/C;AACA,MAAIwB,OAAOF,KAAKC,KAAL,CAAWL,QAAQ,CAAR,IAAalB,QAAxB,IAAoCA,QAA/C;AACA,OAAK,IAAIyB,IAAIJ,IAAb,EAAmBI,KAAKD,IAAxB,EAA8BC,KAAKzB,QAAnC;AAA6CI,eAAWF,OAAOuB,CAAP,CAAX,EAAsBvB,OAAOuB,CAAP,CAAtB,EAAiCR,OAAO,CAAP,CAAjC,EAA4CA,OAAO,CAAP,CAA5C;AAA7C,GAEA,IAAIS,OAAOJ,KAAKC,KAAL,CAAWH,QAAQ,CAAR,IAAapB,QAAxB,IAAoCA,QAA/C;AACA,MAAI2B,OAAOL,KAAKC,KAAL,CAAWH,QAAQ,CAAR,IAAapB,QAAxB,IAAoCA,QAA/C;AACA,OAAK,IAAI4B,IAAIF,IAAb,EAAmBE,KAAKD,IAAxB,EAA8BC,KAAK5B,QAAnC;AAA6CI,eAAWW,OAAO,CAAP,CAAX,EAAsBA,OAAO,CAAP,CAAtB,EAAiCZ,OAAOyB,CAAP,CAAjC,EAA4CzB,OAAOyB,CAAP,CAA5C;AAA7C;AACD","file":"draw-grid.js","sourcesContent":["/**\n * Draw the snapping grid\n *\n * @param {Display} display object\n * @param {Number} cell size\n */\n\nexport default function drawGrid (display, cellSize) {\n  var svg = display.svg\n  var xScale = display.xScale\n  var yScale = display.yScale\n\n  const appendLine = (x1, x2, y1, y2) => {\n    grid.append('line')\n      .attr('class', 'gridline')\n      .attr('x1', x1)\n      .attr('x2', x2)\n      .attr('y1', y1)\n      .attr('y2', y2)\n  }\n\n  // Remove all current gridlines\n  svg.selectAll('.gridline').remove()\n\n  // Add a grid group \"behind\" everything else\n  var grid = svg.insert('g', ':first-child')\n\n  var xRange = xScale.range()\n  var yRange = yScale.range()\n  var xDomain = xScale.domain()\n  var yDomain = yScale.domain()\n\n  var xMin = Math.round(xDomain[0] / cellSize) * cellSize\n  var xMax = Math.round(xDomain[1] / cellSize) * cellSize\n  for (var x = xMin; x <= xMax; x += cellSize) appendLine(xScale(x), xScale(x), yRange[0], yRange[1])\n\n  var yMin = Math.round(yDomain[0] / cellSize) * cellSize\n  var yMax = Math.round(yDomain[1] / cellSize) * cellSize\n  for (var y = yMin; y <= yMax; y += cellSize) appendLine(xRange[0], xRange[1], yScale(y), yScale(y))\n}\n"]}